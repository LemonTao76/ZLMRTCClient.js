<html>
  <meta charset="utf-8">
  <head>
    <title>ZLM RTC demo</title>
    <script src="./ZLMRTCClient.js"></script>
  </head>
    
  <body>

    <div style="text-align: center;">
        <div>
          <video id='video' controls autoplay>
            Your browser is too old which doesn't support HTML5 video.
          </video>
        </div>

        <div>

            <p>
                <label for="streamUrl">url:</label>
                <input type="text" id='streamUrl' value="http://192.168.0.234/webrtc?app=live&stream=xiong">
            </p>
            <p>
              
          </p>

            
            <button onclick="startPlay()">开始播放</button>
            <button onclick="stopPlay()">停止播放</button>
            
        </div>
    </div>

    <script>
      var player = null
      function startPlay()
      {
        stopPlay();
        player = new ZLMRTCClient.Player(
            {
                element: document.getElementById('video'),// video 标签
                debug: true,// 是否打印日志
                zlmsdpUrl:document.getElementById('streamUrl').value//流地址
            }
        );

        player.on(ZLMRTCClient.Events.BASE_EVENT_WEBRTC_ICE_CANDIDATE_ERROR,function(e)
        {// ICE 协商出错
            console.log('ICE 协商出错')
        });

        player.on(ZLMRTCClient.Events.PLAYER_EVENT_WEBRTC_PLAY_SUCESSS,function(e)
        {// 播放成功，可以重这里取流，如e.streams[0]等等
            console.log('播放成功',e.streams)
        });

      }

      function stopPlay()
      {
          if(player)
          {
            player.close();
          }
      }

    </script>
    
  </body>

  <script>
    
  </script>

</html>